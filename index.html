<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1a1a2e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="description"
        content="Personal Assistant - TwÃ³j osobisty asystent do zarzÄ…dzania terminami i przedmiotami">
    <title>Personal Assistant</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <h1 class="header-title">Personal Assistant</h1>
            <p class="header-subtitle" id="current-date"></p>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Deadlines View -->
            <section id="deadlines-view" class="view active">
                <div class="section-header">
                    <h2>ğŸ“… Terminy DokumentÃ³w</h2>
                    <button class="btn-add" onclick="openModal('deadline')">
                        <span>+</span>
                    </button>
                </div>
                <div id="deadlines-list" class="items-list">
                    <!-- Filled by JS -->
                </div>
                <div id="deadlines-empty" class="empty-state">
                    <div class="empty-icon">ğŸ“‹</div>
                    <p>Brak terminÃ³w do Å›ledzenia</p>
                    <button class="btn-primary" onclick="openModal('deadline')">Dodaj pierwszy termin</button>
                </div>
            </section>

            <!-- Items View -->
            <section id="items-view" class="view">
                <div class="section-header">
                    <h2>ğŸ  Gdzie Co Jest</h2>
                    <button class="btn-add" onclick="openModal('item')">
                        <span>+</span>
                    </button>
                </div>
                <div class="search-box">
                    <input type="text" id="search-input" placeholder="ğŸ” Szukaj przedmiotu..." oninput="searchItems()">
                </div>
                <div id="items-list" class="items-list">
                    <!-- Filled by JS -->
                </div>
                <div id="items-empty" class="empty-state">
                    <div class="empty-icon">ğŸ“¦</div>
                    <p>Brak zapisanych przedmiotÃ³w</p>
                    <button class="btn-primary" onclick="openModal('item')">Dodaj pierwszy przedmiot</button>
                </div>
            </section>

            <!-- Weather View -->
            <section id="weather-view" class="view">
                <div class="section-header">
                    <h2>ğŸŒ¤ï¸ Pogoda - RogoÅºno</h2>
                    <button class="btn-add" onclick="loadWeather()">
                        <span>â†»</span>
                    </button>
                </div>
                <div id="weather-content" class="weather-container">
                    <div class="weather-loading">
                        <div class="spinner"></div>
                        <p>Åadowanie pogody...</p>
                    </div>
                </div>
            </section>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-btn active" data-view="deadlines" onclick="switchView('deadlines')">
                <span class="nav-icon">ğŸ“…</span>
                <span class="nav-label">Terminy</span>
            </button>
            <button class="nav-btn" data-view="items" onclick="switchView('items')">
                <span class="nav-icon">ğŸ </span>
                <span class="nav-label">Przedmioty</span>
            </button>
            <button class="nav-btn" data-view="weather" onclick="switchView('weather')">
                <span class="nav-icon">ğŸŒ¤ï¸</span>
                <span class="nav-label">Pogoda</span>
            </button>
        </nav>
    </div>

    <!-- Modal for adding/editing -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Dodaj</h3>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>

            <!-- Deadline Form -->
            <form id="deadline-form" class="modal-form" onsubmit="saveDeadline(event)">
                <div class="form-group">
                    <label for="deadline-name">Nazwa dokumentu</label>
                    <input type="text" id="deadline-name" placeholder="np. Paszport" required>
                </div>
                <div class="form-group">
                    <label for="deadline-date">Data waÅ¼noÅ›ci</label>
                    <input type="date" id="deadline-date" required>
                </div>
                <div class="form-group">
                    <label for="deadline-notes">Notatki (opcjonalnie)</label>
                    <textarea id="deadline-notes" placeholder="Dodatkowe informacje..."></textarea>
                </div>
                <input type="hidden" id="deadline-id">
                <button type="submit" class="btn-primary btn-full">Zapisz</button>
            </form>

            <!-- Item Form -->
            <form id="item-form" class="modal-form" onsubmit="saveItem(event)">
                <div class="form-group">
                    <label for="item-name">Nazwa przedmiotu</label>
                    <input type="text" id="item-name" placeholder="np. ÅšrubokrÄ™t" required>
                </div>
                <div class="form-group">
                    <label for="item-location">Lokalizacja</label>
                    <input type="text" id="item-location" placeholder="np. Szuflada w kuchni" required>
                </div>
                <div class="form-group">
                    <label for="item-category">Kategoria</label>
                    <select id="item-category">
                        <option value="other">ğŸ“¦ Inne</option>
                        <option value="documents">ğŸ“„ Dokumenty</option>
                        <option value="tools">ğŸ”§ NarzÄ™dzia</option>
                        <option value="electronics">ğŸ’» Elektronika</option>
                        <option value="clothes">ğŸ‘• Ubrania</option>
                        <option value="kitchen">ğŸ³ Kuchnia</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ZdjÄ™cie miejsca (opcjonalnie)</label>
                    <div class="image-upload-container">
                        <input type="file" id="item-image" accept="image/*" onchange="previewImage(event)"
                            style="display:none">
                        <div id="image-preview" class="image-preview"
                            onclick="document.getElementById('item-image').click()">
                            <div class="image-preview-placeholder">
                                <span class="image-icon">ğŸ“·</span>
                                <span>Kliknij aby dodaÄ‡ zdjÄ™cie</span>
                            </div>
                        </div>
                        <button type="button" id="remove-image-btn" class="btn-remove-image" onclick="removeImage()"
                            style="display:none">
                            ğŸ—‘ï¸ UsuÅ„ zdjÄ™cie
                        </button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="item-notes">Notatki (opcjonalnie)</label>
                    <textarea id="item-notes" placeholder="Dodatkowe informacje..."></textarea>
                </div>
                <input type="hidden" id="item-id">
                <input type="hidden" id="item-image-data">
                <button type="submit" class="btn-primary btn-full">Zapisz</button>
            </form>
        </div>
    </div>

    <!-- Image Preview Modal -->
    <div id="image-modal" class="image-modal" onclick="closeImageModal()">
        <div class="image-modal-content">
            <img id="image-modal-img" src="" alt="PodglÄ…d">
            <button class="image-modal-close" onclick="closeImageModal()">âœ•</button>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <script src="db.js"></script>
    <script src="app.js"></script>
</body>

</html>